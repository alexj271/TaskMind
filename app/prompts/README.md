# Prompt Template System

–°–∏—Å—Ç–µ–º–∞ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è Tasks Bot.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
tasks/bot/
‚îú‚îÄ‚îÄ prompt_manager.py       # –ú–µ–Ω–µ–¥–∂–µ—Ä —à–∞–±–ª–æ–Ω–æ–≤
‚îú‚îÄ‚îÄ prompts/               # –ü–∞–ø–∫–∞ —Å —à–∞–±–ª–æ–Ω–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ system_task_manager.md    # –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è ChatGPT
‚îÇ   ‚îú‚îÄ‚îÄ welcome_message.md        # –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ help_message.md          # –°–ø—Ä–∞–≤–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ reminder_message.md      # –®–∞–±–ª–æ–Ω –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ completion_question.md   # –í–æ–ø—Ä–æ—Å –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏
‚îî‚îÄ‚îÄ handlers.py            # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –±–æ—Ç–∞
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–º–ø–æ—Ä—Ç
```python
from .prompt_manager import prompt_manager
```

### –†–µ–Ω–¥–µ—Ä —à–∞–±–ª–æ–Ω–∞
```python
# –ü—Ä–æ—Å—Ç–æ–π —à–∞–±–ª–æ–Ω –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
text = prompt_manager.render_template('help_message')

# –®–∞–±–ª–æ–Ω —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
text = prompt_manager.render_template(
    'welcome_message',
    first_name='–ê–ª–µ–∫—Å–µ–π'
)

# –°–ª–æ–∂–Ω—ã–π —à–∞–±–ª–æ–Ω —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
system_prompt = prompt_manager.render_template(
    'system_task_manager',
    current_date='2025-11-06 15:30:00',
    current_weekday_ru='–°—Ä–µ–¥–∞',
    user_id=123456
)
```

## –°–∏–Ω—Ç–∞–∫—Å–∏—Å —à–∞–±–ª–æ–Ω–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–≤–æ–π–Ω—ã–µ —Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
```markdown
–ü—Ä–∏–≤–µ—Ç, {{first_name}}!

–¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞: {{current_date}}
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- ‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –í—Å–µ —Ç–µ–∫—Å—Ç—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ **–õ–µ–≥–∫–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: Markdown —Ñ–∞–π–ª—ã –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –®–∞–±–ª–æ–Ω—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ—Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å**: –ß–∏—Å—Ç—ã–π –∫–æ–¥ –±–µ–∑ –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫
- ‚úÖ **–í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å**: –®–∞–±–ª–æ–Ω—ã –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –≤–µ—Ä—Å–∏–π Git
- ‚úÖ **Telegram-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ö—Ä–∞—Å–∏–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å —ç–º–æ–¥–∑–∏ –∏ —Ä–∞–∑–º–µ—Ç–∫–æ–π
- ‚úÖ **–ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å**: –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

## –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è Telegram

–í—Å–µ —à–∞–±–ª–æ–Ω—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è Telegram:
- **–ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç** –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- `–ú–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π` –¥–ª—è –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–∞—Ç
- üìã –≠–º–æ–¥–∑–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
- ‚îÅ‚îÅ‚îÅ –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏
- –ú–∞–∫—Å–∏–º—É–º 4096 —Å–∏–º–≤–æ–ª–æ–≤ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `tasks/bot/prompts/new_template.md`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `{{variable}}`
3. –í—ã–∑–æ–≤–∏—Ç–µ `prompt_manager.render_template('new_template', variable='value')`